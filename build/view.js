!function(){"use strict";const t=function(){const t={supported:!0,missing:[]};return window.HTMLCanvasElement&&document.createElement("canvas").getContext||(t.supported=!1,t.missing.push("Canvas API")),window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout),window.sessionStorage||(window.sessionStorage={_data:{},getItem:function(t){return this._data[t]||null},setItem:function(t,e){this._data[t]=String(e)},removeItem:function(t){delete this._data[t]}}),window.addEventListener||(t.supported=!1,t.missing.push("Event Listeners")),Array.prototype.forEach&&Array.prototype.indexOf||(t.supported=!1,t.missing.push("ES5 Array Methods")),window.performance&&window.performance.now||(window.performance||(window.performance={}),window.performance.now=function(){return Date.now()}),t}();if(!t.supported){function r(){document.querySelectorAll(".wp-block-glitter-bomb-glitter-bomb").forEach(function(e){e.querySelector(".glitter-bomb-fallback")||function(t,e){const i=document.createElement("div");i.className="glitter-bomb-fallback",i.style.cssText='padding: 20px; margin: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%); border-radius: 12px; color: #ffffff; text-align: center; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;';const s=document.createElement("h3");s.style.cssText="margin: 0 0 12px 0; font-size: 20px;",s.appendChild(document.createTextNode("✨ Glitter Bomb Particles ✨")),i.appendChild(s);const a=document.createElement("p");a.style.cssText="margin: 0 0 12px 0; font-size: 14px;",a.appendChild(document.createTextNode("Your browser doesn't support the features needed for particle effects.")),i.appendChild(a);const n=document.createElement("p");n.style.cssText="margin: 0; font-size: 12px; opacity: 0.9;",n.appendChild(document.createTextNode("Missing: ")),n.appendChild(document.createTextNode(e.join(", "))),i.appendChild(n);const o=document.createElement("p");o.style.cssText="margin: 12px 0 0 0; font-size: 12px; opacity: 0.8;",o.appendChild(document.createTextNode("Please update to a modern browser for the best experience.")),i.appendChild(o),t.appendChild(i)}(e,t.missing)})}return console.warn("Glitter Bomb Particles: Browser not supported. Missing features:",t.missing),void("loading"===document.readyState?document.addEventListener("DOMContentLoaded",r):r())}const e=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,i=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<768,s=1e3/60;class a{constructor(t){t=t||100,this.pool=[],this.activeParticles=[];for(let e=0;e<t;e++)this.pool.push(this.createParticleObject())}createParticleObject(){return{x:0,y:0,homX:0,homY:0,vx:0,vy:0,baseSize:0,size:0,opacity:0,color:"",birthTime:0,maxLife:0,shimmerPhase:0,shimmerSpeed:0,rotation:0,rotationSpeed:0,colorIndex:0,colorCycleSpeed:0,isExplosion:!1,explosionLife:0,driftAngle:0,driftSpeed:0,driftPhase:0,active:!1}}acquire(){let t;return t=this.pool.length>0?this.pool.pop():this.createParticleObject(),t.active=!0,this.activeParticles.push(t),t}release(t){const e=this.activeParticles.indexOf(t);e>-1&&this.activeParticles.splice(e,1),t.active=!1,this.pool.push(t)}releaseAll(){for(;this.activeParticles.length>0;){const t=this.activeParticles.pop();t.active=!1,this.pool.push(t)}}getActive(){return this.activeParticles}getPoolSize(){return this.pool.length}getActiveCount(){return this.activeParticles.length}}class n{constructor(t){this.blockElement=t,this.canvas=null,this.ctx=null,this.particlePool=null,this.isActive=!1,this.animationFrameId=null,this.lastFrameTime=0,this.lastUpdateTime=0,this.lastTouchX=0,this.lastTouchY=0,this.paletteIndex=0,this.mouseX=window.innerWidth/2,this.mouseY=window.innerHeight/2,this.mouseInViewport=!1,this.isTabVisible=!document.hidden,this.lastParticleX=0,this.lastParticleY=0,this.isInitialized=!1,this.lastTouchTime=0,this.canvasScale=1,this.logicalWidth=0,this.logicalHeight=0,this.isResizing=!1,this.resizeDebounceTimer=null,this.lastResizeTime=0,this.canvasOpacity=1,this.targetOpacity=1,this.isFading=!1,this.config={experienceMode:t.dataset.experienceMode||"particle-field",colorPalette:t.dataset.colorPalette||"rainbow-cycling",particleOpacity:parseFloat(t.dataset.particleOpacity)||.9,particleSize:parseFloat(t.dataset.particleSize)||10,particleSizeMobile:parseFloat(t.dataset.particleSizeMobile)||7.5,animationDuration:parseInt(t.dataset.animationDuration)||1500,enableButtonText:t.dataset.enableButtonText||"✨ Enable Sparkles",disableButtonText:t.dataset.disableButtonText||"✨ Disable Sparkles",buttonPosition:t.dataset.buttonPosition||"bottom-right",customColor:t.dataset.customColor||"#ff69b4",maxParticles:parseInt(t.dataset.maxParticles)||50,enabledByDefault:"true"===t.dataset.enabledByDefault,enableButtonTextColor:t.dataset.enableButtonTextColor||"#ffffff",enableButtonBgColor:t.dataset.enableButtonBgColor||"#667eea",enableButtonGradientStart:t.dataset.enableButtonGradientStart||"",enableButtonGradientEnd:t.dataset.enableButtonGradientEnd||"",disableButtonTextColor:t.dataset.disableButtonTextColor||"#ffffff",disableButtonBgColor:t.dataset.disableButtonBgColor||"#f093fb",disableButtonGradientStart:t.dataset.disableButtonGradientStart||"",disableButtonGradientEnd:t.dataset.disableButtonGradientEnd||"",displayBehavior:t.dataset.displayBehavior||"compact",fieldColorPalette:t.dataset.fieldColorPalette||"metallic",fieldParticleCount:parseInt(t.dataset.fieldParticleCount)||200,fieldParticleSize:parseFloat(t.dataset.fieldParticleSize)||6,fieldParticleSizeMobile:parseFloat(t.dataset.fieldParticleSizeMobile)||3,fieldMouseAttraction:parseFloat(t.dataset.fieldMouseAttraction)||.5,fieldSpreadStrength:parseFloat(t.dataset.fieldSpreadStrength)||.3,fieldClickExplosion:"true"===t.dataset.fieldClickExplosion,disableOnMobile:"true"===t.dataset.disableOnMobile},this.colorPalettes={"rainbow-cycling":["#FF0000","#FF7F00","#FFFF00","#00FF00","#0000FF","#4B0082","#9400D3"],metallic:["#C0C0C0","#D4AF37","#E5E4E2","#B87333","#AAA9AD","#CD7F32","#CFCFCF"],"neutral-spectrum":["#8B8B8B","#A9A9A9","#C0C0C0","#D3D3D3","#E0E0E0"],"warm-sunset":["#FF6B6B","#FFA07A","#FFD700","#FF8C00","#FF4500"],"cool-ocean":["#00CED1","#20B2AA","#48D1CC","#40E0D0","#00FFFF"],custom:[this.config.customColor]};const e="particle-field"===this.config.experienceMode?Math.max(this.config.fieldParticleCount+100,300):Math.max(this.config.maxParticles+20,70);this.particlePool=new a(e),this.init()}init(){if(i&&this.config.disableOnMobile)return;this.createCanvas(),this.createToggleButton(),this.setupEventListeners();const t=sessionStorage.getItem("glitterBombActive");null!==t?this.isActive="true"===t:(this.isActive=this.config.enabledByDefault,sessionStorage.setItem("glitterBombActive",this.isActive.toString())),e&&(this.isActive=!1),this.updateButtonUI(),this.isActive&&("particle-field"===this.config.experienceMode&&(this.initializeParticleField(),this.isInitialized=!0),this.start())}updateButtonUI(){this.button&&(this.button.setAttribute("aria-pressed",this.isActive),this.button.textContent=this.isActive?this.config.disableButtonText:this.config.enableButtonText,this.applyButtonStyles(this.button,this.isActive))}createCanvas(){this.canvas=document.createElement("canvas"),this.canvas.className="glitter-bomb-canvas",this.canvas.setAttribute("aria-hidden","true"),document.body.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d",{alpha:!0,willReadFrequently:!1,desynchronized:!0}),this.calculateCanvasSize()}getViewportHeight(){return window.visualViewport?window.visualViewport.height:window.innerHeight}calculateCanvasSize(){const t=window.innerWidth,e=this.getViewportHeight(),s=window.devicePixelRatio||1;this.logicalWidth=t,this.logicalHeight=e,this.canvasScale=i&&s>1?Math.min(1.5,s):s,this.canvas.width=t*this.canvasScale,this.canvas.height=e*this.canvasScale,this.canvas.style.width="100vw",this.canvas.style.height="100vh",this.ctx&&this.ctx.scale(this.canvasScale,this.canvasScale)}handleResize(){const t=performance.now();this.resizeDebounceTimer&&clearTimeout(this.resizeDebounceTimer),t-this.lastResizeTime<150&&(this.isResizing||(this.isResizing=!0,this.targetOpacity=.3,this.isFading=!0)),this.lastResizeTime=t,this.resizeDebounceTimer=setTimeout(()=>{this.calculateCanvasSize(),"particle-field"===this.config.experienceMode&&this.isActive&&this.initializeParticleField(),this.isResizing=!1,this.targetOpacity=1,this.isFading=!0},250)}updateCanvasOpacity(){if(!this.isFading)return;const t=this.targetOpacity-this.canvasOpacity;Math.abs(t)<.01?(this.canvasOpacity=this.targetOpacity,this.isFading=!1):this.canvasOpacity+=.05*t,this.canvas.style.opacity=this.canvasOpacity.toString()}getPaletteGradient(){const t="particle-field"===this.config.experienceMode?this.config.fieldColorPalette:this.config.colorPalette,e=this.colorPalettes[t];return"custom"===t?{start:this.config.customColor,end:this.config.customColor}:{start:e[0],end:e[e.length-1]}}createToggleButton(){const t=document.createElement("button");t.className="glitter-bomb-toggle position-"+this.config.buttonPosition,t.setAttribute("type","button");const e=document.createElement("div");e.className="glitter-bomb-sr-only",e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e.id="glitter-bomb-announcement",document.body.appendChild(e),this.button=t,this.srAnnouncement=e,document.body.appendChild(t)}applyButtonStyles(t,e){const i=e?this.config.disableButtonTextColor:this.config.enableButtonTextColor,s=e?this.config.disableButtonBgColor:this.config.enableButtonBgColor;let a=e?this.config.disableButtonGradientStart:this.config.enableButtonGradientStart,n=e?this.config.disableButtonGradientEnd:this.config.enableButtonGradientEnd;if(t.style.color=i,!a&&!n){const t=this.getPaletteGradient();a=t.start,n=t.end}t.style.background=a&&n?"linear-gradient(135deg, "+a+", "+n+")":s}setupEventListeners(){this.button.addEventListener("click",()=>this.toggle()),this.button.addEventListener("keydown",t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),this.toggle())}),this.mouseMoveHandler=t=>{this.mouseX=t.clientX,this.mouseY=t.clientY,this.mouseInViewport=!0,this.isActive&&"sprinkle-trail"===this.config.experienceMode&&this.createParticle(t.clientX,t.clientY)},this.mouseLeaveHandler=()=>{this.mouseInViewport=!1},this.mouseEnterHandler=()=>{this.mouseInViewport=!0},this.touchMoveHandler=t=>{if(!this.isActive)return;const e=t.touches[0];this.mouseX=e.clientX,this.mouseY=e.clientY,this.mouseInViewport=!0,"sprinkle-trail"===this.config.experienceMode&&this.createParticle(e.clientX,e.clientY),this.lastTouchX=e.clientX,this.lastTouchY=e.clientY},this.touchStartHandler=t=>{if(!this.isActive)return;const e=t.touches[0];this.mouseX=e.clientX,this.mouseY=e.clientY,this.mouseInViewport=!0},this.touchEndHandler=()=>{this.mouseInViewport=!1},this.clickHandler=t=>{this.isActive&&"particle-field"===this.config.experienceMode&&this.config.fieldClickExplosion&&this.createExplosion(t.clientX,t.clientY)},this.touchTapHandler=t=>{if(this.isActive&&"particle-field"===this.config.experienceMode&&this.config.fieldClickExplosion){const e=t.changedTouches[0];this.createExplosion(e.clientX,e.clientY)}},this.resizeHandler=()=>{this.handleResize()},this.visibilityChangeHandler=()=>{this.isTabVisible=!document.hidden,this.isTabVisible&&this.isActive?this.animationFrameId||(this.lastFrameTime=performance.now(),this.lastUpdateTime=this.lastFrameTime,this.animate()):this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)},window.visualViewport&&(this.visualViewportResizeHandler=()=>{this.handleResize()},window.visualViewport.addEventListener("resize",this.visualViewportResizeHandler)),document.addEventListener("mousemove",this.mouseMoveHandler),document.addEventListener("mouseleave",this.mouseLeaveHandler),document.addEventListener("mouseenter",this.mouseEnterHandler),document.addEventListener("touchstart",this.touchStartHandler,{passive:!0}),document.addEventListener("touchmove",this.touchMoveHandler,{passive:!0}),document.addEventListener("touchend",this.touchEndHandler,{passive:!0}),document.addEventListener("touchcancel",this.touchEndHandler,{passive:!0}),document.addEventListener("click",this.clickHandler),document.addEventListener("touchend",this.touchTapHandler),window.addEventListener("resize",this.resizeHandler),document.addEventListener("visibilitychange",this.visibilityChangeHandler)}toggle(){this.isActive=!this.isActive,sessionStorage.setItem("glitterBombActive",this.isActive.toString()),this.updateButtonUI();const t=this.isActive?"Sparkle effects enabled. "+("particle-field"===this.config.experienceMode?"Magical glitter field activated.":"Particles will follow your cursor."):"Sparkle effects disabled.";this.srAnnouncement.textContent=t,this.isActive?("particle-field"===this.config.experienceMode&&(this.initializeParticleField(),this.isInitialized=!0),this.start()):this.stop()}start(){!this.animationFrameId&&this.isTabVisible&&(this.lastFrameTime=performance.now(),this.lastUpdateTime=this.lastFrameTime,this.animate())}stop(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.particlePool.releaseAll(),this.isInitialized=!1,this.ctx.clearRect(0,0,this.logicalWidth,this.logicalHeight)}initializeParticleField(){this.particlePool.releaseAll();const t=this.config.fieldParticleCount;for(let e=0;e<t;e++)this.createFieldParticle()}createFieldParticle(){const t=i?this.config.fieldParticleSizeMobile:this.config.fieldParticleSize,e=Math.random()*this.logicalWidth,s=Math.random()*this.logicalHeight,a=this.particlePool.acquire();a.x=e,a.y=s,a.homeX=e,a.homeY=s,a.vx=.5*(Math.random()-.5),a.vy=.5*(Math.random()-.5),a.baseSize=t*(.7+.6*Math.random()),a.size=a.baseSize,a.opacity=.6+.4*Math.random(),a.shimmerPhase=Math.random()*Math.PI*2,a.shimmerSpeed=.02+.03*Math.random(),a.rotation=Math.random()*Math.PI*2,a.rotationSpeed=.02*(Math.random()-.5),a.colorIndex=Math.random(),a.colorCycleSpeed=.001+.002*Math.random(),a.isExplosion=!1,a.explosionLife=0,a.driftAngle=Math.random()*Math.PI*2,a.driftSpeed=.2+.3*Math.random(),a.driftPhase=Math.random()*Math.PI*2}createExplosion(t,e){this.particlePool.getActive().forEach(function(i){if(i.isExplosion)return;const s=i.x-t,a=i.y-e,n=Math.sqrt(s*s+a*a);if(n<250&&n>0){const t=8*(1-n/250),e=Math.atan2(a,s);i.vx+=Math.cos(e)*t,i.vy+=Math.sin(e)*t}});const s=i?this.config.fieldParticleSizeMobile:this.config.fieldParticleSize;for(let i=0;i<40;i++){const a=2*Math.PI*i/40,n=3+5*Math.random(),o=this.particlePool.acquire();o.x=t,o.y=e,o.homeX=t,o.homeY=e,o.vx=Math.cos(a)*n,o.vy=Math.sin(a)*n,o.baseSize=s*(1+.8*Math.random()),o.size=o.baseSize,o.opacity=1,o.shimmerPhase=Math.random()*Math.PI*2,o.shimmerSpeed=.05+.05*Math.random(),o.rotation=Math.random()*Math.PI*2,o.rotationSpeed=.1*(Math.random()-.5),o.colorIndex=Math.random(),o.colorCycleSpeed=.002,o.isExplosion=!0,o.explosionLife=1,o.driftAngle=0,o.driftSpeed=0,o.driftPhase=0}}getParticleColor(t){const e="particle-field"===this.config.experienceMode?this.config.fieldColorPalette:this.config.colorPalette;if("custom"===e){const e=t?t.opacity:this.config.particleOpacity;return this.hexToRgba(this.config.customColor,e)}const i=this.colorPalettes[e];if("particle-field"===this.config.experienceMode&&t){const e=i.length,s=Math.floor(t.colorIndex*e)%e,a=(s+1)%e,n=t.colorIndex*e%1,o=this.hexToRgb(i[s]),r=this.hexToRgb(i[a]);return"rgba("+Math.round(o.r+(r.r-o.r)*n)+", "+Math.round(o.g+(r.g-o.g)*n)+", "+Math.round(o.b+(r.b-o.b)*n)+", "+t.opacity+")"}{this.paletteIndex=(this.paletteIndex+.05)%i.length;const t=i[Math.floor(this.paletteIndex)];return this.hexToRgba(t,this.config.particleOpacity)}}hexToRgb(t){return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16)}}hexToRgba(t,e){const i=this.hexToRgb(t);return"rgba("+i.r+", "+i.g+", "+i.b+", "+e+")"}createParticle(t,e){const s=t-this.lastParticleX,a=e-this.lastParticleY;if(Math.sqrt(s*s+a*a)<(i?12:8))return;this.lastParticleX=t,this.lastParticleY=e;const n=this.particlePool.getActive();n.length>=this.config.maxParticles&&this.particlePool.release(n[0]);const o="compact"===this.config.displayBehavior,r=performance.now(),l=i?this.config.particleSizeMobile:this.config.particleSize,c=this.particlePool.acquire();c.x=t,c.y=e,c.size=l,c.color=this.getParticleColor(),c.opacity=this.config.particleOpacity,c.birthTime=r,c.maxLife=this.config.animationDuration,c.vx=o?0:2*(Math.random()-.5),c.vy=o?0:2*(Math.random()-.5)}updateSprinkleParticles(t){const e="compact"===this.config.displayBehavior,i=this.particlePool.getActive(),s=i.length;for(let a=i.length-1;a>=0;a--){const n=i[a],o=t-n.birthTime,r=Math.max(0,1-o/n.maxLife);e||(n.x+=n.vx,n.y+=n.vy);const l=s>1?(a+1)/s:1;n.opacity=this.config.particleOpacity*Math.min(r,l),(o>=n.maxLife||n.opacity<=.01||Math.abs(n.x)>2*this.logicalWidth||Math.abs(n.y)>2*this.logicalHeight)&&this.particlePool.release(n)}}updateFieldParticles(){const t=this.particlePool.getActive();for(let e=t.length-1;e>=0;e--){const i=t[e];if("custom"!==this.config.fieldColorPalette&&(i.colorIndex=(i.colorIndex+i.colorCycleSpeed)%1),i.isExplosion){if(i.explosionLife-=.02,i.opacity=Math.max(0,i.explosionLife),i.x+=i.vx,i.y+=i.vy,i.vx*=.95,i.vy*=.95,i.explosionLife<=0){this.particlePool.release(i);continue}}else{i.driftPhase+=.015;const s=Math.cos(i.driftAngle+i.driftPhase)*i.driftSpeed,a=Math.sin(i.driftAngle+.7*i.driftPhase)*i.driftSpeed;if(i.vx+=.03*s,i.vy+=.03*a,this.mouseInViewport){const t=this.mouseX-i.x,e=this.mouseY-i.y,s=Math.sqrt(t*t+e*e),a=Math.max(this.logicalWidth,this.logicalHeight);if(s>0&&s<a){const n=s/a,o=Math.pow(1-n,3)*this.config.fieldMouseAttraction*.08;i.vx+=t/s*o,i.vy+=e/s*o}}else{const t=i.homeX,e=i.homeY,s=t-i.x,a=e-i.y,n=Math.sqrt(s*s+a*a);if(n>1){const t=.002;i.vx+=s/n*t*n*.05,i.vy+=a/n*t*n*.05}}for(let s=e+1;s<t.length;s++){const e=t[s];if(e.isExplosion)continue;const a=e.x-i.x,n=e.y-i.y,o=Math.sqrt(a*a+n*n);if(o>0&&o<30){const t=(30-o)/30*this.config.fieldSpreadStrength*.05;i.vx-=a/o*t,i.vy-=n/o*t}}}i.x+=i.vx,i.y+=i.vy,i.isExplosion||(i.vx*=.95,i.vy*=.95),i.x<0&&(i.x=this.logicalWidth),i.x>this.logicalWidth&&(i.x=0),i.y<0&&(i.y=this.logicalHeight),i.y>this.logicalHeight&&(i.y=0),i.shimmerPhase+=i.shimmerSpeed;const s=(Math.sin(i.shimmerPhase)+1)/2;i.size=i.baseSize*(.7+.3*s),i.rotation+=i.rotationSpeed}}drawSprinkleParticles(){this.ctx.clearRect(0,0,this.logicalWidth,this.logicalHeight),this.particlePool.getActive().forEach(t=>{this.ctx.beginPath(),this.ctx.arc(t.x,t.y,t.size,0,2*Math.PI),this.ctx.fillStyle=t.color.replace(/[\d.]+\)$/g,t.opacity+")"),this.ctx.fill()})}drawFieldParticles(){this.ctx.clearRect(0,0,this.logicalWidth,this.logicalHeight),this.particlePool.getActive().forEach(t=>{this.ctx.save(),this.ctx.translate(t.x,t.y),this.ctx.rotate(t.rotation);const e=this.getParticleColor(t);for(let i=0;i<5;i++){this.ctx.beginPath();const s=2*Math.PI*i/5,a=1.5*t.size;this.ctx.moveTo(0,0),this.ctx.lineTo(Math.cos(s)*a,Math.sin(s)*a),this.ctx.lineTo(Math.cos(s+.1)*(.5*a),Math.sin(s+.1)*(.5*a)),this.ctx.closePath(),this.ctx.fillStyle=e,this.ctx.fill()}this.ctx.beginPath(),this.ctx.arc(0,0,.5*t.size,0,2*Math.PI),this.ctx.fillStyle=e,this.ctx.fill(),this.ctx.restore()})}animate(){if(!this.isTabVisible||!this.isActive)return void(this.animationFrameId=null);const t=performance.now(),e=t-this.lastUpdateTime;e>=s?(this.updateCanvasOpacity(),"sprinkle-trail"===this.config.experienceMode?(this.updateSprinkleParticles(t),this.drawSprinkleParticles()):(this.updateFieldParticles(),this.drawFieldParticles()),this.lastUpdateTime=t-e%s):"sprinkle-trail"===this.config.experienceMode?this.drawSprinkleParticles():this.drawFieldParticles(),this.animationFrameId=requestAnimationFrame(()=>this.animate())}destroy(){this.resizeDebounceTimer&&clearTimeout(this.resizeDebounceTimer),document.removeEventListener("mousemove",this.mouseMoveHandler),document.removeEventListener("mouseleave",this.mouseLeaveHandler),document.removeEventListener("mouseenter",this.mouseEnterHandler),document.removeEventListener("touchstart",this.touchStartHandler),document.removeEventListener("touchmove",this.touchMoveHandler),document.removeEventListener("touchend",this.touchEndHandler),document.removeEventListener("touchcancel",this.touchEndHandler),document.removeEventListener("click",this.clickHandler),document.removeEventListener("touchend",this.touchTapHandler),window.removeEventListener("resize",this.resizeHandler),document.removeEventListener("visibilitychange",this.visibilityChangeHandler),window.visualViewport&&this.visualViewportResizeHandler&&window.visualViewport.removeEventListener("resize",this.visualViewportResizeHandler),this.stop(),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.button&&this.button.parentNode&&this.button.parentNode.removeChild(this.button),this.srAnnouncement&&this.srAnnouncement.parentNode&&this.srAnnouncement.parentNode.removeChild(this.srAnnouncement)}}function o(){document.querySelectorAll(".wp-block-glitter-bomb-glitter-bomb").forEach(function(t){t.glitterBombInstance||(t.glitterBombInstance=new n(t))})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o(),window.addEventListener("beforeunload",function(){document.querySelectorAll(".wp-block-glitter-bomb-glitter-bomb").forEach(function(t){t.glitterBombInstance&&t.glitterBombInstance.destroy()})})}();